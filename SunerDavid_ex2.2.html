<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ca">
<!-- Ejercici 2.2 del M06UF1 / David Suñer Morales / 10/2022 -->
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Càlcul de temperatures mitjanes</title>
	</head>
	<body>    
		<p><b><u>APLICACIÓ PEL CÀLCUL DE TEMPERATURES MITJANES</u></b></p>
		<b>a) Introudeix les dades de temperatura en Graus Celsius (ºC):<br></b>
		<table>
			<tbody>
				<tr>
					<td>Mostra de Temperatura 1:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 2:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				</tr>
				 <tr>
					<td>Mostra de Temperatura 3:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 4:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
				 <tr>
					<td>Mostra de Temperatura 5:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 6:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
				 <tr>
					<td>Mostra de Temperatura 7:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 8:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
			</tbody>
		</table>	
		<br>
        <b>b) Escull les unitats de temperatura del resultat:</b><br>
        <input name="ut[]" value="celsius" type="checkbox" checked>Graus Celsius (ºC)<br>
        <input name="ut[]" value="fahrenheit" type="checkbox">Graus Fahrenheit (ºF)<br>
        <input name="ut[]" value="kelvins" type="checkbox">Kelvins (K)<br>
        <br>        
        <button onclick='fCalcula()'>Calcula mitjanes</button>
		<button onclick='fNeteja()'>Neteja dades</button>
		<p><b>RESULTATS:</b></p>
		<p id="resultats"></p>
		<button onclick='fReinicia()'>Neteja resultats</button>
		<script>
			function fCalcula() {
			document.getElementById('resultats').innerHTML=''; 	
			var valor = document.getElementsByName("temp[]");
			var valor2 = document.getElementsByName("ut[]");
			let sum = 0;
			for ( let i=0; i < valor.length; i++) {
			sum += parseInt(valor[i].value);
			}
			var final= sum/valor.length;
			if(valor2[0].checked){
			document.getElementById('resultats').innerHTML += "La mitjana de les temperatures en Graus Celsius (ºC) és: " + final.toFixed(1) + " ºC <br>";
        }
			if(valor2[1].checked){
			var faren=(final*9/5)+32;
			document.getElementById('resultats').innerHTML += "La mitjana de les temperatures en Graus Fahrenheit (ºF) és: " + faren.toFixed(1) + " ºF <br>";
        }
			if(valor2[2].checked){
			var kelvin=final+273.15;
			document.getElementById('resultats').innerHTML += "La mitjana de les temperatures en Graus Kelvins (K) és: " + kelvin.toFixed(1) + " K <br>";
        }
			}

			function fNeteja() {
			for (let i=0; i<9; i++){
			document.getElementsByTagName("input")[i].value = ""; 	
			}								 
			}
						
			function fReinicia() {			
			document.getElementById('resultats').innerHTML=''; 	
			}
		</script>   
	</body>
</html>
